<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>caffe: installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">caffe
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_installation.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr/>
 <h2>title: Installation </h2>
<h1>Installation</h1>
<p class="">Prior to installing, have a glance through this guide and take note of the details for your platform. We install and run Caffe on Ubuntu 16.04–12.04, OS X 10.11–10.8, and through Docker and AWS. The official Makefile and <code>Makefile.config</code> build are complemented by a <a href="#cmake-build">community CMake build</a>.</p>
<p class=""><b>Step-by-step Instructions</b>:</p>
<ul>
<li><a href="https://github.com/BVLC/caffe/tree/master/docker">Docker setup</a> <em>out-of-the-box brewing</em></li>
<li><a href="install_apt.html">Ubuntu installation</a> <em>the standard platform</em></li>
<li><a href="install_apt_debian.html">Debian installation</a> <em>install caffe with a single command</em></li>
<li><a href="install_osx.html">OS X installation</a></li>
<li><a href="install_yum.html">RHEL / CentOS / Fedora installation</a></li>
<li><a href="https://github.com/BVLC/caffe/tree/windows">Windows</a> <em>see the Windows branch led by Guillaume Dumont</em></li>
<li><a href="https://github.com/BVLC/caffe/tree/opencl">OpenCL</a> <em>see the OpenCL branch led by Fabian Tschopp</em></li>
<li><a href="https://aws.amazon.com/marketplace/pp/B01M0AXXQB">AWS AMI</a> <em>official deep learning amazon machine image from AWS</em></li>
</ul>
<p class=""><b>Overview</b>:</p>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#compilation">Compilation</a></li>
<li><a href="#hardware">Hardware</a></li>
</ul>
<p class="">When updating Caffe, it's best to <code>make clean</code> before re-compiling.</p>
<h2>Prerequisites</h2>
<p class="">Caffe has several dependencies:</p>
<ul>
<li><a href="https://developer.nvidia.com/cuda-zone">CUDA</a> is required for GPU mode.<ul>
<li>library version 7+ and the latest driver version are recommended, but 6.* is fine too</li>
<li>5.5, and 5.0 are compatible but considered legacy</li>
</ul>
</li>
<li><a href="http://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms">BLAS</a> via ATLAS, MKL, or OpenBLAS.</li>
<li><a href="http://www.boost.org/">Boost</a> &gt;= 1.55</li>
<li><code>protobuf</code>, <code>glog</code>, <code>gflags</code>, <code>hdf5</code></li>
</ul>
<p class="">Optional dependencies:</p>
<ul>
<li><a href="http://opencv.org/">OpenCV</a> &gt;= 2.4 including 3.0</li>
<li>IO libraries: <code>lmdb</code>, <code>leveldb</code> (note: leveldb requires <code>snappy</code>)</li>
<li>cuDNN for GPU acceleration (v7)</li>
</ul>
<p class="">Pycaffe and Matcaffe interfaces have their own natural needs.</p>
<ul>
<li>For Python Caffe: <code>Python 2.7</code> or <code>Python 3.3+</code>, <code>numpy (&gt;= 1.7)</code>, boost-provided <code>boost.python</code></li>
<li>For MATLAB Caffe: MATLAB with the <code>mex</code> compiler.</li>
</ul>
<p class=""><b>cuDNN Caffe</b>: for fastest operation Caffe is accelerated by drop-in integration of <a href="https://developer.nvidia.com/cudnn">NVIDIA cuDNN</a>. To speed up your Caffe models, install cuDNN then uncomment the <code>USE_CUDNN := 1</code> flag in <code>Makefile.config</code> when installing Caffe. Acceleration is automatic. The current version is cuDNN v7; older versions are supported in older Caffe.</p>
<p class=""><b>CPU-only Caffe</b>: for cold-brewed CPU-only Caffe uncomment the <code>CPU_ONLY := 1</code> flag in <code>Makefile.config</code> to configure and build Caffe without CUDA. This is helpful for cloud or cluster deployment.</p>
<h3>CUDA and BLAS</h3>
<p class="">Caffe requires the CUDA <code>nvcc</code> compiler to compile its GPU code and CUDA driver for GPU operation. To install CUDA, go to the <a href="https://developer.nvidia.com/cuda-downloads">NVIDIA CUDA website</a> and follow installation instructions there. Install the library and the latest standalone driver separately; the driver bundled with the library is usually out-of-date. <b>Warning!</b> The 331.* CUDA driver series has a critical performance issue: do not use it.</p>
<p class="">For best performance, Caffe can be accelerated by <a href="https://developer.nvidia.com/cudnn">NVIDIA cuDNN</a>. Register for free at the cuDNN site, install it, then continue with these installation instructions. To compile with cuDNN set the <code>USE_CUDNN := 1</code> flag set in your <code>Makefile.config</code>.</p>
<p class="">Caffe requires BLAS as the backend of its matrix and vector computations. There are several implementations of this library. The choice is yours:</p>
<ul>
<li><a href="http://math-atlas.sourceforge.net/">ATLAS</a>: free, open source, and so the default for Caffe.</li>
<li><a href="http://software.intel.com/en-us/intel-mkl">Intel MKL</a>: commercial and optimized for Intel CPUs, with <a href="https://registrationcenter.intel.com/en/forms/?productid=2558">free</a> licenses.<ol type="1">
<li>Install MKL.</li>
<li>Set up MKL environment (Details: <a href="https://software.intel.com/en-us/node/528499">Linux</a>, <a href="https://software.intel.com/en-us/node/528659">OS X</a>). Example: <em>source /opt/intel/mkl/bin/mklvars.sh intel64</em></li>
<li>Set <code>BLAS := mkl</code> in <code>Makefile.config</code></li>
</ol>
</li>
<li><a href="http://www.openblas.net/">OpenBLAS</a>: free and open source; this optimized and parallel BLAS could require more effort to install, although it might offer a speedup.<ol type="1">
<li>Install OpenBLAS</li>
<li>Set <code>BLAS := open</code> in <code>Makefile.config</code></li>
</ol>
</li>
</ul>
<h3>Python and/or MATLAB Caffe (optional)</h3>
<h4>Python</h4>
<p class="">The main requirements are <code>numpy</code> and <code>boost.python</code> (provided by boost). <code>pandas</code> is useful too and needed for some examples.</p>
<p class="">You can install the dependencies with </p><pre class="fragment">pip install -r requirements.txt
</pre><p class="">but we suggest first installing the <a href="https://store.continuum.io/cshop/anaconda/">Anaconda</a> Python distribution, which provides most of the necessary packages, as well as the <code>hdf5</code> library dependency.</p>
<p class="">To import the <code>caffe</code> Python module after completing the installation, add the module directory to your <code>$PYTHONPATH</code> by <code>export PYTHONPATH=/path/to/caffe/python:$PYTHONPATH</code> or the like. You should not import the module in the <code>caffe/python/caffe</code> directory!</p>
<p class=""><em>Caffe's Python interface works with Python 2.7. Python 3.3+ should work out of the box without protobuf support. For protobuf support please install protobuf 3.0 alpha (<a href="https://developers.google.com/protocol-buffers/">https://developers.google.com/protocol-buffers/</a>). Earlier Pythons are your own adventure.</em></p>
<h4>MATLAB</h4>
<p class="">Install MATLAB, and make sure that its <code>mex</code> is in your <code>$PATH</code>.</p>
<p class=""><em>Caffe's MATLAB interface works with versions 2015a, 2014a/b, 2013a/b, and 2012b.</em></p>
<h2>Compilation</h2>
<p class="">Caffe can be compiled with either Make or CMake. Make is officially supported while CMake is supported by the community.</p>
<h3>Compilation with Make</h3>
<p class="">Configure the build by copying and modifying the example <code>Makefile.config</code> for your setup. The defaults should work, but uncomment the relevant lines if using Anaconda Python. </p><pre class="fragment">cp Makefile.config.example Makefile.config
# Adjust Makefile.config (for example, if using Anaconda Python, or if cuDNN is desired)
make all
make test
make runtest
</pre><ul>
<li>For CPU &amp; GPU accelerated Caffe, no changes are needed.</li>
<li>For cuDNN acceleration using NVIDIA's proprietary cuDNN software, uncomment the <code>USE_CUDNN := 1</code> switch in <code>Makefile.config</code>. cuDNN is sometimes but not always faster than Caffe's GPU acceleration.</li>
<li>For CPU-only Caffe, uncomment <code>CPU_ONLY := 1</code> in <code>Makefile.config</code>.</li>
</ul>
<p class="">To compile the Python and MATLAB wrappers do <code>make pycaffe</code> and <code>make matcaffe</code> respectively. Be sure to set your MATLAB and Python paths in <code>Makefile.config</code> first!</p>
<p class=""><b>Distribution</b>: run <code>make distribute</code> to create a <code>distribute</code> directory with all the Caffe headers, compiled libraries, binaries, etc. needed for distribution to other machines.</p>
<p class=""><b>Speed</b>: for a faster build, compile in parallel by doing <code>make all -j8</code> where 8 is the number of parallel threads for compilation (a good choice for the number of threads is the number of cores in your machine).</p>
<p class="">Now that you have installed Caffe, check out the <a href="gathered/examples/mnist.html">MNIST tutorial</a> and the <a href="gathered/examples/imagenet.html">reference ImageNet model tutorial</a>.</p>
<h3>CMake Build</h3>
<p class="">In lieu of manually editing <code>Makefile.config</code> to configure the build, Caffe offers an unofficial CMake build thanks to , , and other members of the community. It requires CMake version &gt;= 2.8.7. The basic steps are as follows: </p><pre class="fragment">mkdir build
cd build
cmake ..
make all
make install
make runtest
</pre><p class="">See <a href="https://github.com/BVLC/caffe/pull/1667">PR #1667</a> for options and details.</p>
<h2>Hardware</h2>
<p class=""><b>Laboratory Tested Hardware</b>: Berkeley Vision runs Caffe with Titan Xs, K80s, GTX 980s, K40s, K20s, Titans, and GTX 770s including models at ImageNet/ILSVRC scale. We have not encountered any trouble in-house with devices with CUDA capability &gt;= 3.0. All reported hardware issues thus-far have been due to GPU configuration, overheating, and the like.</p>
<p class=""><b>CUDA compute capability</b>: devices with compute capability &lt;= 2.0 may have to reduce CUDA thread numbers and batch sizes due to hardware constraints. Brew with caution; we recommend compute capability &gt;= 3.0.</p>
<p class="">Once installed, check your times against our <a href="performance_hardware.html">reference performance numbers</a> to make sure everything is configured properly.</p>
<p class="">Ask hardware questions on the <a href="https://groups.google.com/forum/#!forum/caffe-users">caffe-users group</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
