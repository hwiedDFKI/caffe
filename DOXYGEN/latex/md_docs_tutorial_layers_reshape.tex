

 \subsection*{title\+: Reshape Layer }

\section*{Reshape Layer}


\begin{DoxyItemize}
\item Layer type\+: {\ttfamily Reshape}
\item \href{http://caffe.berkeleyvision.org/doxygen/classcaffe_1_1ReshapeLayer.html}{\tt Doxygen Documentation}
\item Header\+: \href{https://github.com/BVLC/caffe/blob/master/include/caffe/layers/reshape_layer.hpp}{\tt {\ttfamily ./include/caffe/layers/reshape\+\_\+layer.hpp}}
\item Implementation\+: \href{https://github.com/BVLC/caffe/blob/master/src/caffe/layers/reshape_layer.cpp}{\tt {\ttfamily ./src/caffe/layers/reshape\+\_\+layer.cpp}}
\item Input
\begin{DoxyItemize}
\item a single blob with arbitrary dimensions
\end{DoxyItemize}
\item Output
\begin{DoxyItemize}
\item the same blob, with modified dimensions, as specified by {\ttfamily reshape\+\_\+param}
\end{DoxyItemize}
\item Sample \begin{DoxyVerb}  layer {
    name: "reshape"
    type: "Reshape"
    bottom: "input"
    top: "output"
    reshape_param {
      shape {
        dim: 0  # copy the dimension from below
        dim: 2
        dim: 3
        dim: -1 # infer it from the other dimensions
      }
    }
  }
\end{DoxyVerb}

\end{DoxyItemize}

The {\ttfamily Reshape} layer can be used to change the dimensions of its input, without changing its data. Just like the {\ttfamily Flatten} layer, only the dimensions are changed; no data is copied in the process.

Output dimensions are specified by the {\ttfamily Reshape\+Param} proto. Positive numbers are used directly, setting the corresponding dimension of the output blob. In addition, two special values are accepted for any of the target dimension values\+:


\begin{DoxyItemize}
\item {\bfseries 0} means \char`\"{}copy the respective dimension of the bottom layer\char`\"{}. That is, if the bottom has 2 as its 1st dimension, the top will have 2 as its 1st dimension as well, given {\ttfamily dim\+: 0} as the 1st target dimension.
\item {\bfseries -\/1} stands for \char`\"{}infer this from the other dimensions\char`\"{}. This behavior is similar to that of -\/1 in {\itshape numpy}\textquotesingle{}s or {\ttfamily \mbox{[}\mbox{]}} for {\itshape M\+A\+T\+L\+AB}\textquotesingle{}s reshape\+: this dimension is calculated to keep the overall element count the same as in the bottom layer. At most one -\/1 can be used in a reshape operation.
\end{DoxyItemize}

As another example, specifying {\ttfamily reshape\+\_\+param \{ shape \{ dim\+: 0 dim\+: -\/1 \} \}} makes the layer behave in exactly the same way as the {\ttfamily Flatten} layer.

\subsection*{Parameters}


\begin{DoxyItemize}
\item Parameters ({\ttfamily Reshape\+Parameter reshape\+\_\+param})
\begin{DoxyItemize}
\item Optional\+: (also see detailed description below)
\begin{DoxyItemize}
\item {\ttfamily shape}
\end{DoxyItemize}
\end{DoxyItemize}
\item From \href{https://github.com/BVLC/caffe/blob/master/src/caffe/proto/caffe.proto}{\tt {\ttfamily ./src/caffe/proto/caffe.proto}}\+:
\end{DoxyItemize}

\{\% highlight Protobuf \%\} \{\% include proto/\+Reshape\+Parameter.\+txt \%\} \{\% endhighlight \%\} 