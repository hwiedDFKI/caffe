

 \subsection*{title\+: Convolution Layer }

\section*{Convolution Layer}


\begin{DoxyItemize}
\item Layer type\+: {\ttfamily Convolution}
\item \href{http://caffe.berkeleyvision.org/doxygen/classcaffe_1_1ConvolutionLayer.html}{\tt Doxygen Documentation}
\item Header\+: \href{https://github.com/BVLC/caffe/blob/master/include/caffe/layers/conv_layer.hpp}{\tt {\ttfamily ./include/caffe/layers/conv\+\_\+layer.hpp}}
\item C\+PU implementation\+: \href{https://github.com/BVLC/caffe/blob/master/src/caffe/layers/conv_layer.cpp}{\tt {\ttfamily ./src/caffe/layers/conv\+\_\+layer.cpp}}
\item C\+U\+DA G\+PU implementation\+: \href{https://github.com/BVLC/caffe/blob/master/src/caffe/layers/conv_layer.cu}{\tt {\ttfamily ./src/caffe/layers/conv\+\_\+layer.cu}}
\item Input
\begin{DoxyItemize}
\item {\ttfamily n $\ast$ c\+\_\+i $\ast$ h\+\_\+i $\ast$ w\+\_\+i}
\end{DoxyItemize}
\item Output
\begin{DoxyItemize}
\item {\ttfamily n $\ast$ c\+\_\+o $\ast$ h\+\_\+o $\ast$ w\+\_\+o}, where {\ttfamily h\+\_\+o = (h\+\_\+i + 2 $\ast$ pad\+\_\+h -\/ kernel\+\_\+h) / stride\+\_\+h + 1} and {\ttfamily w\+\_\+o} likewise.
\end{DoxyItemize}
\end{DoxyItemize}

The {\ttfamily Convolution} layer convolves the input image with a set of learnable filters, each producing one feature map in the output image.

\subsection*{Sample}

Sample (as seen in \href{https://github.com/BVLC/caffe/blob/master/models/bvlc_reference_caffenet/train_val.prototxt}{\tt {\ttfamily ./models/bvlc\+\_\+reference\+\_\+caffenet/train\+\_\+val.prototxt}})\+: \begin{DoxyVerb}  layer {
    name: "conv1"
    type: "Convolution"
    bottom: "data"
    top: "conv1"
    # learning rate and decay multipliers for the filters
    param { lr_mult: 1 decay_mult: 1 }
    # learning rate and decay multipliers for the biases
    param { lr_mult: 2 decay_mult: 0 }
    convolution_param {
      num_output: 96     # learn 96 filters
      kernel_size: 11    # each filter is 11x11
      stride: 4          # step 4 pixels between each filter application
      weight_filler {
        type: "gaussian" # initialize the filters from a Gaussian
        std: 0.01        # distribution with stdev 0.01 (default mean: 0)
      }
      bias_filler {
        type: "constant" # initialize the biases to zero (0)
        value: 0
      }
    }
  }
\end{DoxyVerb}


\subsection*{Parameters}


\begin{DoxyItemize}
\item Parameters ({\ttfamily Convolution\+Parameter convolution\+\_\+param})
\begin{DoxyItemize}
\item Required
\begin{DoxyItemize}
\item {\ttfamily num\+\_\+output} ({\ttfamily c\+\_\+o})\+: the number of filters
\item {\ttfamily kernel\+\_\+size} (or {\ttfamily kernel\+\_\+h} and {\ttfamily kernel\+\_\+w})\+: specifies height and width of each filter
\end{DoxyItemize}
\item Strongly Recommended
\begin{DoxyItemize}
\item {\ttfamily weight\+\_\+filler} \mbox{[}default `type\+: \textquotesingle{}constant' value\+: 0\`{}\mbox{]}
\end{DoxyItemize}
\item Optional
\begin{DoxyItemize}
\item {\ttfamily bias\+\_\+term} \mbox{[}default {\ttfamily true}\mbox{]}\+: specifies whether to learn and apply a set of additive biases to the filter outputs
\item {\ttfamily pad} (or {\ttfamily pad\+\_\+h} and {\ttfamily pad\+\_\+w}) \mbox{[}default 0\mbox{]}\+: specifies the number of pixels to (implicitly) add to each side of the input
\item {\ttfamily stride} (or {\ttfamily stride\+\_\+h} and {\ttfamily stride\+\_\+w}) \mbox{[}default 1\mbox{]}\+: specifies the intervals at which to apply the filters to the input
\item {\ttfamily group} (g) \mbox{[}default 1\mbox{]}\+: If g $>$ 1, we restrict the connectivity of each filter to a subset of the input. Specifically, the input and output channels are separated into g groups, and the \$\$i\$\$th output group channels will be only connected to the \$\$i\$\$th input group channels.
\end{DoxyItemize}
\end{DoxyItemize}
\item From \href{https://github.com/BVLC/caffe/blob/master/src/caffe/proto/caffe.proto}{\tt {\ttfamily ./src/caffe/proto/caffe.proto}})\+:
\end{DoxyItemize}

\{\% highlight Protobuf \%\} \{\% include proto/\+Convolution\+Parameter.\+txt \%\} \{\% endhighlight \%\} 